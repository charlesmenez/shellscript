#!/bin/bash
set -e
DMENU_CMD="dmenu -nb black -nf white -sb yellow -sf black -fn hack:size=10"
THEME="gruvbox
sad
bathroom
forest
heaven
house
island
paint
8bit
solarizedascii
SolarizedBall
SegaGenesis
Space8bit
"
BACKEND="colorz
wal
haishoku
colorthief"

CHOICE=$(printf "$THEME" | $DMENU_CMD -p "Select a theme")
BACKENDCHOICE=$(printf "$BACKEND" | $DMENU_CMD -p "select a backend")
SWALLOW=

case $CHOICE in
  $CHOICE) wal -i ~/Projects/awesome/AwesomeWM/wallpapers/$CHOICE* --backend $BACKENDCHOICE && convert ~/Projects/awesome/AwesomeWM/wallpapers/$CHOICE* ~/custom.jpg && feh --bg-scale ~/custom.jpg && alacritty-color-export ;;

esac


if [ -z "$CHOICE" ]; then
  exit 1
else
  echo 'awesome.restart()' | awesome-client
fi
